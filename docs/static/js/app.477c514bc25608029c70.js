webpackJsonp([1],{"97FE":function(t,i){},HuLh:function(t,i){},MfZ4:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("7+uW"),s=e("c/Tr"),o=e.n(s),r=e("BO1k"),a=e.n(r),c=e("woOf"),u=e.n(c),l={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"icons"},[i("symbol",{attrs:{id:"icon-fire",viewBox:"0 0 24 24"}},[i("title",[this._v("fire")]),this._v(" "),i("path",{attrs:{d:"M11.719 18.984c2.672 0 4.781-2.109 4.781-4.781 0-1.406-0.188-2.719-0.563-4.031-1.031 1.359-2.859 2.203-4.641 2.578s-2.813 1.453-2.813 3.094c0 1.734 1.453 3.141 3.234 3.141zM13.5 0.656c3.891 3.141 6.516 7.969 6.516 13.359 0 4.406-3.609 7.969-8.016 7.969s-8.016-3.563-8.016-7.969c0-3.375 1.219-6.516 3.234-8.906v0.375c0 2.063 1.547 3.703 3.609 3.703s3.422-1.641 3.422-3.703c0-2.156-0.75-4.828-0.75-4.828z"}})]),this._v(" "),i("symbol",{attrs:{id:"icon-water",viewBox:"0 0 32 32"}},[i("title",[this._v("water")]),this._v(" "),i("path",{attrs:{d:"M27.020 14.786c-2.055-5.732-6.41-10.88-11.020-14.786-4.61 3.907-8.965 9.054-11.020 14.786-1.271 3.545-1.396 7.393 0.393 10.794 2.058 3.911 6.207 6.42 10.626 6.42s8.569-2.509 10.626-6.42c1.79-3.401 1.664-7.249 0.393-10.794zM23.086 23.717c-1.369 2.602-4.15 4.283-7.086 4.283-1.723 0-3.391-0.579-4.753-1.583 0.414 0.054 0.832 0.083 1.254 0.083 3.67 0 7.146-2.1 8.856-5.351 1.402-2.665 1.281-5.433 0.746-7.636 0.455 0.88 0.841 1.756 1.151 2.623 0.706 1.971 1.251 4.886-0.168 7.581z"}})])])},staticRenderFns:[]};var h=e("VU/8")({name:"icons"},l,!1,function(t){e("97FE")},"data-v-c331c08c",null).exports,f={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("g",{staticClass:"totem",attrs:{transform:t.transform},on:{click:t.toggle}},[e("rect",{staticClass:"totem",class:t.hint,attrs:{width:t.size,height:t.size,x:0,y:0}}),t._v(" "),e("svg",{staticClass:"icon",class:t.out,attrs:{width:t.size*t.scale,height:t.size*t.scale,x:t.size*t.offset,y:t.size*t.offset}},[e("use",{attrs:{"xlink:href":t.icon}})])])},staticRenderFns:[]};var m=function(t,i,e){var n=[];switch(t%i){case 0:n=[t-i,t,t+1,t+i];break;case i-1:n=[t-i,t-1,t,t+i];break;default:n=[t-i,t-1,t,t+1,t+i]}return n.filter(function(t){return t>=0&&t<e*i})},d=function(t,i,e){i=parseInt(i),e=parseInt(e);var n={};o()(t).forEach(function(t,s){n[s]=m(s,i,e)});for(var s=function(t,e,s){return s=s||0,t.forEach(function(t,o){if("0"===t){var r=n[o+s*i],c=!0,u=!1,l=void 0;try{for(var h,f=a()(r);!(c=(h=f.next()).done);c=!0){var m=h.value,d="0"===e.charAt(m)?"1":"0";e=e.substring(0,m)+d+e.substring(m+1)}}catch(t){u=!0,l=t}finally{try{!c&&f.return&&f.return()}finally{if(u)throw l}}}}),e},r=Math.pow(2,i),c=[],u=0;u<r;){var l="",h=t,f=u.toString(2).padStart(i,"0");l+=f,h=s(o()(f),h,0);for(var d=1;d<e;){var v=o()(h.substr((d-1)*i,i)).map(function(t){return"0"===t?"1":"0"});h=s(v,h,d),l+=v=v.reduce(function(t,i){return t+i},""),d++}0===parseInt(h)&&c.push(l),u++}return c},v={name:"lava",components:{totem:e("VU/8")({name:"totem",props:{totem:{},size:0},data:function(){return{}},computed:{x:function(){return this.totem.col*this.size},y:function(){return this.totem.row*this.size},out:function(){return this.totem.off?"water":"fire"},icon:function(){return this.totem.off?"#icon-water":"#icon-fire"},transform:function(){return"translate("+this.x+", "+this.y+")"},scale:function(){return this.totem.off?.8*.9:.8},offset:function(){return(1-this.scale)/2},hint:function(){return this.totem.hint&&!this.clicked?"hint":""},clicked:function(){return this.totem.clicked}},methods:{toggle:function(){this.$emit("toggle",this.totem)}}},f,!1,function(t){e("wlUo")},"data-v-89037adc",null).exports,icons:h},data:function(){return{row:5,col:5,width:300,height:300,totems:{},editing:!1}},computed:{totemSize:function(){return this.width/Math.max(this.colNum,this.rowNum)},status:function(){var t=[];for(var i in this.totems){var e=this.totems[i];t[e.row*this.colNum+e.col]=e.off?0:1}return t},weight:function(){return this.status.reduce(function(t,i){return t+i},0)},done:function(){return!this.editing&&0===this.weight},colNum:function(){return~~this.col},rowNum:function(){return~~this.row}},created:function(){window.onresize=this.resize},watch:{col:function(){this.createTotems()},row:function(){this.createTotems()}},mounted:function(){this.resize(),this.init()},methods:{init:function(){this.createTotems()},resize:function(){var t=.8*Math.min(window.innerHeight,window.innerWidth);this.width=t,this.height=t},createTotems:function(){for(var t={},i=0;i<this.rowNum;i++)for(var e=0;e<this.colNum;e++){var n=i*this.colNum+e;t[n]={row:i,col:e,off:!1,neighbors:this.getNeighbors(n)}}this.totems=t},toggleTotem:function(t){var i=t.row*this.colNum+t.col,e={};if(e[i]=u()({},this.totems[i],{off:!this.totems[i].off,clicked:!this.totems[i].clicked}),!this.editing){var n=this.totems[i].neighbors,s=!0,o=!1,r=void 0;try{for(var c,l=a()(n);!(s=(c=l.next()).done);s=!0){var h=c.value;e[h]=u()({},this.totems[h],{off:!this.totems[h].off})}}catch(t){o=!0,r=t}finally{try{!s&&l.return&&l.return()}finally{if(o)throw r}}}this.totems=u()({},this.totems,e)},getNeighbors:function(t){var i=this,e=t%this.colNum,n=this.colNum-1,s=[];switch(e){case 0:s=[t-this.colNum,t+1,t+this.colNum];break;case n:s=[t-this.colNum,t-1,t+this.colNum];break;default:s=[t-this.colNum,t-1,t+1,t+this.colNum]}return s.filter(function(t){return t>=0&&t<i.rowNum*i.colNum})},hint:function(){var t=this,i=this.status.reduce(function(t,i){return t+i},"");console.time("die");var e=d(i,this.colNum,this.rowNum);if(console.log(e),console.timeEnd("die"),e.length>0){var n=e[0],s={};o()(n).forEach(function(i,e){s[e]=u()({},t.totems[e],{hint:"0"===i,clicked:!1})}),this.totems=u()({},this.totems,s)}},nextBlock:function(){this.rowNum=this.rowNum+1,this.colNum=this.colNum+1}}},g={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"layout"},[e("div",{staticClass:"layout-header"}),t._v(" "),e("div",{staticClass:"layout-content"},[e("div",{staticClass:"layout-view"},[e("div",{staticClass:"layout-padding"},[e("div",{staticClass:"lava"},[e("div",{staticClass:"actions"},[e("label",{staticClass:"label edit",class:t.editing?"water":"fire",attrs:{for:"edit"}},[t._v("\n              "+t._s(t.editing?"Editing":"Playing")+"\n              "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editing,expression:"editing"}],staticClass:"input",attrs:{id:"edit",type:"checkbox"},domProps:{checked:Array.isArray(t.editing)?t._i(t.editing,null)>-1:t.editing},on:{change:function(i){var e=t.editing,n=i.target,s=!!n.checked;if(Array.isArray(e)){var o=t._i(e,null);n.checked?o<0&&(t.editing=e.concat([null])):o>-1&&(t.editing=e.slice(0,o).concat(e.slice(o+1)))}else t.editing=s}}})]),t._v(" "),t.editing?[e("label",{staticClass:"label row",attrs:{for:"row"}},[t._v("\n                Row:\n                "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row,expression:"row"}],staticClass:"input",attrs:{id:"row",type:"number",min:"1",max:"1000"},domProps:{value:t.row},on:{input:function(i){i.target.composing||(t.row=i.target.value)}}})]),t._v(" "),e("label",{staticClass:"label col",attrs:{for:"col"}},[t._v("\n                Col:\n                "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.col,expression:"col"}],staticClass:"input",attrs:{id:"col",type:"number",min:"1",max:"1000"},domProps:{value:t.col},on:{input:function(i){i.target.composing||(t.col=i.target.value)}}})])]:t._e(),t._v(" "),e("button",{staticClass:"hint bg-water",on:{click:t.hint}},[t._v("Hint")])],2),t._v(" "),e("div",{staticClass:"azeroth"},[e("icons"),t._v(" "),e("svg",{ref:"board",staticClass:"maelstrom",attrs:{width:t.totemSize*t.col,height:t.totemSize*t.row}},t._l(t.totems,function(i,n){return e("totem",{key:n,attrs:{totem:i,size:t.totemSize},on:{toggle:t.toggleTotem}})}))],1)])])])]),t._v(" "),e("div",{staticClass:"layout-footer"})])},staticRenderFns:[]};var w={name:"app",components:{Lava:e("VU/8")(v,g,!1,function(t){e("fI0n")},"data-v-75cf213a",null).exports}},p={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("Lava")],1)},staticRenderFns:[]};var N=e("VU/8")(w,p,!1,function(t){e("HuLh"),e("sCuL"),e("MfZ4")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:N}})},fI0n:function(t,i){},sCuL:function(t,i){},wlUo:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.477c514bc25608029c70.js.map